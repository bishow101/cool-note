(this["webpackJsonpcool-note"]=this["webpackJsonpcool-note"]||[]).push([[0],{84:function(e,t,n){},85:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(29),s=n.n(a),o=n(15),i=n(28),u=n(14),l=n(9),j=n.n(l),d=n(12),b=n(16),O=n(53);n(99),n(81);O.a.initializeApp({apiKey:"AIzaSyCpXeITaFqsTM74yXdg45M5N0AiXKYI4Gc",authDomain:"cool-note-1.firebaseapp.com",projectId:"cool-note-1",storageBucket:"cool-note-1.appspot.com",messagingSenderId:"307912080720",appId:"1=307912080720:web:bdb3c8419389e1a05ec055",measurementId:"G-RSKBKP6JKX"});var p=O.a.auth(),f=O.a,h=n(32),x=function(e,t){switch(t.type){case"SET_NOTES":return Object(d.a)(Object(d.a)({},e),{},{notes:t.payload,filteredNotes:t.payload});case"CREATE_NOTE":return Object(d.a)(Object(d.a)({},e),{},{currentNote:t.payload,notes:[].concat(Object(h.a)(e.notes),[t.payload]),filteredNotes:[].concat(Object(h.a)(e.notes),[t.payload])});case"EDIT_NOTE":return Object(d.a)(Object(d.a)({},e),{},{currentNote:t.payload});case"UPDATE_NOTE":var n=t.payload,r=e.notes.indexOf(e.notes.find((function(e){return e.id===n.id}))),c=e.notes.slice(0,r),a=e.notes.slice(r+1);return Object(d.a)(Object(d.a)({},e),{},{currentNote:null,notes:[].concat(Object(h.a)(c),[n],Object(h.a)(a)),filteredNotes:[].concat(Object(h.a)(c),[n],Object(h.a)(a))});case"DELETE_NOTE":var s=e.notes.filter((function(e){return e.id!==t.payload}));return Object(d.a)(Object(d.a)({},e),{},{notes:Object(h.a)(s),filteredNotes:Object(h.a)(s)});case"SEARCH_NOTE":if(""===t.payload.trim())return Object(d.a)(Object(d.a)({},e),{},{filteredNotes:e.notes});var o=function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)if(e[n]===t[r])return!0;return!1},i=function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)if(e[n]===t[r]||o(e[n],t[r]))return!0;return!1},u=e.notes.filter((function(e){var n=e.title.toLowerCase().split(" "),r=e.detail.toLowerCase().split(" "),c=t.payload.toLowerCase().split(" "),a=i(n,c);return i(r,c)||a}));return Object(d.a)(Object(d.a)({},e),{},{filteredNotes:u});default:return e}},m=n(3),v=Object(r.createContext)({currentNote:null,notes:[],filteredNotes:[]}),N=function(e){var t=e.children,n=Object(r.useContext)(v),c=Object(r.useReducer)(x,n),a=Object(o.a)(c,2),s=a[0],i=a[1],u=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.firestore(),e.next=3,n.collection("notes").where("uid","==",t).get();case 3:r=e.sent,i({type:"SET_NOTES",payload:r.docs.map((function(e){return Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id})}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.firestore(),e.next=3,n.collection("notes").add(t);case 3:r=e.sent,i({type:"CREATE_NOTE",payload:Object(d.a)(Object(d.a)({},t),{},{id:r.id})});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.firestore(),e.next=3,n.collection("notes").doc(t.id).set({uid:t.uid,id:t.id,title:t.title,detail:t.detail,tags:t.tags});case 3:i({type:"UPDATE_NOTE",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.firestore(),e.next=3,n.collection("notes").doc(t).delete();case 3:i({type:"DELETE_NOTE",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(v.Provider,{value:{state:s,dispatch:i,getNotes:u,createNote:l,updateNote:O,deleteNote:p,searchNote:function(e){i({type:"SEARCH_NOTE",payload:e})}},children:t})},y=Object(r.createContext)(),g=function(){return Object(r.useContext)(y)},w=function(e){var t=e.children,n=Object(r.useState)(),c=Object(o.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!0),u=Object(o.a)(i,2),l=u[0],d=u[1],O=Object(r.useReducer)(x),f=Object(o.a)(O,2),h=(f[0],f[1]),v=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.createUserWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.signInWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.signOut();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return p.onAuthStateChanged((function(e){e||h({type:"SET_NOTES",payload:[]}),s(e),d(!1)}))}),[]),Object(m.jsx)(y.Provider,{value:{currentUser:a,signup:v,login:N,logout:g},children:!l&&t})},E=n(115),S=n(116),C=n(66),k=n.n(C),T=n(68),D=n.n(T),A=n(67),L=n.n(A),_=n(117),B=n(69),I=n.n(B),R=(n(84),function(e){var t=e.children;return Object(m.jsx)("nav",{className:"nav-c",children:Object(m.jsx)("div",{className:"navbar-c",children:t})})}),P=(n(85),function(e){var t=e.searchQuery,n=e.setSearchQuery,c=Object(r.useRef)();return Object(m.jsx)("input",{ref:c,value:t,onChange:function(){return n(c.current.value)},type:"search",placeholder:"Search notes",className:"search-field"})}),Q=function(e){var t=e.setSearchQuery,n=e.searchQuery,r=e.StartButton,c=e.EndButton;return Object(m.jsxs)(R,{children:[r&&Object(m.jsx)(r,{}),Object(m.jsx)(P,{setSearchQuery:t,searchQuery:n}),c&&Object(m.jsx)(c,{})]})},U=n(50),K=n.n(U),F=function(e){var t=e.note,n=e.dispatch,r=e.setShowEdit,c=e.toogleDrawer;return Object(m.jsxs)("div",{onClick:function(){return n({type:"EDIT_NOTE",payload:t}),void r(!0)},className:"note-item",children:[Object(m.jsxs)("div",{className:"top",children:[Object(m.jsx)("h3",{className:"title",children:t.title}),Object(m.jsxs)(E.a,{onClick:function(e){return c(e,t.id)},color:"secondary",children:[" ",Object(m.jsx)(K.a,{})," "]})]}),Object(m.jsx)("p",{className:"detail-text",children:t.detail}),Object(m.jsx)("div",{className:"tags",children:t.tags.map((function(e){return Object(m.jsx)("p",{className:"tag",children:e},Math.random())}))})]})},M=(n(90),function(e){var t=e.searchQuery,n=e.setShowEdit,c=e.toogleDrawer,a=Object(r.useContext)(v),s=a.state,o=a.dispatch,i=a.getNotes,u=a.searchNote,l=g().currentUser;return Object(r.useEffect)((function(){l&&i(l.uid)}),[l]),Object(r.useEffect)((function(){u(t)}),[t]),Object(m.jsx)("div",{className:"note-list",children:s.filteredNotes&&s.filteredNotes.map((function(e){return Object(m.jsx)(F,{toogleDrawer:c,setShowEdit:n,dispatch:o,note:e},e.id)}))})}),X=(n(91),function(e){var t=e.children,n=e.setOpen;return Object(m.jsx)("div",{onClick:function(){return n((function(e){return!e}))},className:"drawer",children:t})}),J=function(e){var t=e.setShowEdit,n=g().currentUser,c=Object(r.useContext)(v),a=c.createNote,s=c.deleteNote,l=Object(r.useState)(!1),d=Object(o.a)(l,2),O=d[0],p=d[1],f=Object(r.useState)(null),h=Object(o.a)(f,2),x=h[0],N=h[1],y=Object(r.useState)(""),w=Object(o.a)(y,2),C=w[0],T=w[1],A=Object(u.g)(),B=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({uid:n.uid,title:"",detail:"",tags:[]}),t(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(x);case 2:p((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Q,{setSearchQuery:T,searchQuery:C,StartButton:function(){return Object(m.jsxs)(E.a,{onClick:function(){return console.log("menu clicked")},children:[" ",Object(m.jsx)(k.a,{})," "]})},EndButton:function(){return Object(m.jsxs)(E.a,{onClick:function(){return A.push("/profile")},children:[" ",Object(m.jsx)(L.a,{})," "]})}}),Object(m.jsx)("h3",{children:n.email}),Object(m.jsx)(M,{searchQuery:C,toogleDrawer:function(e,t){e.stopPropagation(),p((function(e){return!e})),N(t)},setShowEdit:t}),Object(m.jsx)(S.a,{onClick:B,style:{position:"fixed",bottom:"10px",right:"10px"},children:Object(m.jsx)(D.a,{})}),O&&Object(m.jsx)(X,{setOpen:p,children:Object(m.jsx)("div",{onClick:function(e){return e.stopPropagation()},className:O?"drawer-items active":"drawer-items",children:Object(m.jsx)(_.a,{onClick:function(e){return R(e)},style:{background:"#3a4447",width:"100%",padding:"0.5rem 0",color:"#fff"},startIcon:Object(m.jsx)(I.a,{}),children:"Delete"})})})]}):Object(m.jsx)(i.b,{style:{color:"#fff"},to:"/signup",children:"Sign up"})},z=n(51),G=n.n(z),H=(n(93),function(e){var t=e.setShowEdit,n=Object(r.useContext)(v),c=n.state,a=n.updateNote,s=n.deleteNote,i=c.currentNote,u=Object(r.useState)(i?i.title:""),l=Object(o.a)(u,2),O=l[0],p=l[1],f=Object(r.useState)(i?i.detail:""),h=Object(o.a)(f,2),x=h[0],N=h[1],y=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==O.trim()||""!==x.trim()){e.next=4;break}return s(i.id),t(!1),e.abrupt("return");case 4:return n=Object(d.a)(Object(d.a)({},i),{},{id:i.id,title:O,detail:x,tags:i.tags}),e.next=7,a(n);case 7:t(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Q,{StartButton:function(){return Object(m.jsxs)(E.a,{onClick:y,children:[" ",Object(m.jsx)(G.a,{})," "]})},EndButton:function(){return Object(m.jsxs)(E.a,{children:[" ",Object(m.jsx)(K.a,{})," "]})}}),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{onSubmit:y,className:"note-info",children:[Object(m.jsx)("input",{onChange:function(e){return p(e.target.value)},type:"text",value:O,className:"title",placeholder:"Title"}),Object(m.jsx)("textarea",{onChange:function(e){return N(e.target.value)},type:"text",value:x,className:"info detail-text",placeholder:"Note"})]})})]})}),W=n(118),q=n(122),Y=n(120),V=n(121),Z=n(119),$=function(){var e=g(),t=e.signup,n=e.currentUser,c=Object(u.g)(),a=Object(r.useState)(!1),s=Object(o.a)(a,2),l=s[0],d=s[1],O=Object(r.useRef)(),p=Object(r.useRef)(),f=Object(r.useState)(""),h=Object(o.a)(f,2),x=h[0],v=h[1],N=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,v(""),d(!0),e.next=6,t(O.current.value,p.current.value);case 6:c.push("/"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),v(e.t0.message),O.current.value=null,p.current.value=null;case 14:d(!1);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return n?Object(m.jsx)(u.a,{to:"/"}):Object(m.jsx)(W.a,{children:Object(m.jsx)(q.a,{className:"",children:Object(m.jsxs)(q.a.Body,{children:[x&&Object(m.jsx)(Y.a,{variant:"danger",children:x}),Object(m.jsx)("h3",{className:"mt-2 text-center mb-4",children:"Sign up"}),Object(m.jsxs)(V.a,{onSubmit:function(e){return N(e)},className:"py-4 w-100 mt-4",children:[Object(m.jsx)(V.a.Label,{children:"Email address"}),Object(m.jsx)(V.a.Control,{ref:O,autocomplete:!0,className:"w-100 mb-4",type:"email"}),Object(m.jsx)(V.a.Label,{children:"Password"}),Object(m.jsx)(V.a.Control,{ref:p,className:"w-100 mb-4",type:"password"}),Object(m.jsx)(Z.a,{disabled:l,className:"mt-3 w-100",type:"submit",children:"Sign up"})]}),Object(m.jsxs)("p",{children:["Already have an account ? ",Object(m.jsx)(i.b,{className:"pl-1",to:"/login",children:"Login"})," "]})]})})})},ee=function(){var e=g(),t=e.login,n=e.currentUser,c=Object(u.g)(),a=Object(r.useState)(!1),s=Object(o.a)(a,2),l=s[0],d=s[1],O=Object(r.useRef)(),p=Object(r.useRef)(),f=Object(r.useState)(""),h=Object(o.a)(f,2),x=h[0],v=h[1],N=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,v(""),d(!0),e.next=6,t(O.current.value,p.current.value);case 6:c.push("/"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),v(e.t0.message),O.current.value=null,p.current.value=null;case 14:d(!1);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return n?Object(m.jsx)(u.a,{to:"/"}):Object(m.jsx)(W.a,{children:Object(m.jsx)(q.a,{className:"",children:Object(m.jsxs)(q.a.Body,{children:[x&&Object(m.jsx)(Y.a,{variant:"danger",children:x}),Object(m.jsx)("h3",{className:"mt-2 text-center mb-4",children:"Login"}),Object(m.jsxs)(V.a,{onSubmit:function(e){return N(e)},className:"py-4 w-100 mt-4",children:[Object(m.jsx)(V.a.Label,{children:"Email address"}),Object(m.jsx)(V.a.Control,{ref:O,className:"w-100 mb-4",type:"email"}),Object(m.jsx)(V.a.Label,{children:"Password"}),Object(m.jsx)(V.a.Control,{ref:p,className:"w-100 mb-4",type:"password"}),Object(m.jsx)(Z.a,{disabled:l,className:"mt-3 w-100",type:"submit",children:"Login"})]}),Object(m.jsx)(i.b,{children:"Forgot password ?"}),Object(m.jsxs)("p",{children:["Don't have an account ? ",Object(m.jsx)(i.b,{className:"pl-1",to:"/signup",children:"Sign up"})," "]})]})})})},te=function(){var e=g(),t=e.currentUser,n=e.logout,r=Object(u.g)(),c=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:r.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return t?Object(m.jsx)(W.a,{children:Object(m.jsxs)(q.a,{className:"py-0",children:[Object(m.jsxs)(q.a.Body,{className:"px-0 py-0",children:[Object(m.jsxs)(E.a,{className:"text-left p0",onClick:function(){return r.push("/")},children:[" ",Object(m.jsx)(G.a,{})," "]}),Object(m.jsxs)("h5",{className:"mt-2 text-center mb-4",children:["Email: ",t.email]})]}),Object(m.jsx)(Z.a,{className:"text-right",onClick:c,children:"Logout"})]})}):Object(m.jsx)(u.a,{to:"/login"})},ne=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(m.jsx)(i.a,{children:Object(m.jsx)(u.d,{children:Object(m.jsxs)(w,{children:[Object(m.jsx)(N,{children:Object(m.jsx)(u.b,{path:"/",exact:!0,children:n?Object(m.jsx)(H,{setShowEdit:c}):Object(m.jsx)(J,{setShowEdit:c})})}),Object(m.jsx)(u.b,{path:"/signup",component:$}),Object(m.jsx)(u.b,{path:"/login",component:ee}),Object(m.jsx)(u.b,{path:"/profile",component:te})]})})})};n(95),n(96);s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(ne,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.9cce5a55.chunk.js.map